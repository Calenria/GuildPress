"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(b){document.createElement(b)});var U_GROUP_TESTER=1;var U_GROUP_ADMIN=2;var U_GROUP_EDITOR=4;var U_GROUP_MOD=8;var U_GROUP_BUREAU=16;var U_GROUP_DEV=32;var U_GROUP_VIP=64;var U_GROUP_BLOGGER=128;var U_GROUP_PREMIUM=256;var U_GROUP_LOCALIZER=512;var U_GROUP_SALESAGENT=1024;var U_GROUP_SCREENSHOT=2048;var U_GROUP_VIDEO=4096;var U_GROUP_APIONLY=8192;var U_GROUP_PENDING=16384;var U_GROUP_STAFF=U_GROUP_ADMIN|U_GROUP_EDITOR|U_GROUP_MOD|U_GROUP_BUREAU|U_GROUP_DEV|U_GROUP_BLOGGER|U_GROUP_LOCALIZER|U_GROUP_SALESAGENT;var U_GROUP_EMPLOYEE=U_GROUP_ADMIN|U_GROUP_BUREAU|U_GROUP_DEV;var U_GROUP_GREEN_TEXT=U_GROUP_MOD|U_GROUP_BUREAU|U_GROUP_DEV;var U_GROUP_MODERATOR=U_GROUP_ADMIN|U_GROUP_MOD|U_GROUP_BUREAU;var U_GROUP_COMMENTS_MODERATOR=U_GROUP_MODERATOR|U_GROUP_LOCALIZER;var U_GROUP_PREMIUM_PERMISSIONS=U_GROUP_PREMIUM|U_GROUP_STAFF|U_GROUP_VIP;var g_users={};var g_customColors={};function g_isUsernameValid(b){return(b.match(/[^a-z0-9]/i)==null&&b.length>=4&&b.length<=16)}function g_requireCaptcha(){if((g_user.permissions&1)>0||(typeof(skipCaptcha)!="undefined"&&skipCaptcha)){return false}return true}var User=new function(){var b=this;b.hasPermissions=function(c){if(!c){return true}return !!(g_user.roles&c)}};var Ads={dimensions:{leaderboard:[728,90],skyscraper:[160,600],medrect:[300,250],footer:[728,90]},autofill:{leaderboard:["ad-header"],skyscraper:["ad-sidebar"],medrect:["ad-content","ad-article","ad-contribute"],footer:["ad-footer"]},alternates:{leaderboard:{},skyscraper:{},medrect:{"ad-article":2},footer:{}},spots:[],hidden:[],hiding:false,removed:false,test:false,init:function(){if(PageTemplate.get("pageName")=="ads"){Ads.test=true}for(var g in Ads.dimensions){var d=Ads.autofill[g],f=false;for(var c=0,b=d.length;c<b;++c){var e=$WH.ge(d[c]);if(e){if(f){$WH.de(e)}else{f=Ads.fillSpot(g,e,d[c])}}}}},fillSpot:function(g,f,e){if(Ads.removed||!g_user.ads){$WH.de(f);return false}var b=$(f);if($("iframe",b).length>0){return false}var d=$WH.ce("iframe");d.width=Ads.dimensions[g][0];d.height=Ads.dimensions[g][1];d.frameBorder=0;d.scrolling="no";d.src=g_staticUrl+"/ads/"+(Ads.test?"test":"dynamic")+"/"+g+(Ads.alternates[g][e]?Ads.alternates[g][e]:"")+".html?5"+(($WH.isset("g_thottbot")&&g_thottbot)?"&thottbot":"");f.className+=" ad-"+g;var c=f.parentNode;if(c.className=="block-bg"){c.className="block-bg block-bgimg"}else{if(c.className=="header-bg"){c.className="header-bg header-bgimg"}else{if(c.className=="sidebar-bg"){c.className="sidebar-bg sidebar-bgimg"}else{if(c.className=="footer-bg"){c.className="footer-bg header-bgimg"}}}}$WH.ae(f,d);Ads.spots.push(f);return true},removeAll:function(){for(var f in Ads.dimensions){var d=Ads.spots;for(var c=0,b=d.length;c<b;++c){var e=d[c];if(e){$WH.de(e)}}}Ads.removed=true;Ads.spots=[]},reveal:function(c){var b=$WH.gE(c,"iframe")[0];if(b){b.style.display=""}},hide:function(c){var b=$WH.gE(c,"iframe")[0];if(b){b.style.display="none";Ads.hidden.push(c)}},hideAll:function(){Ads.hiding=true;for(var f in Ads.dimensions){var d=Ads.spots;for(var c=0,b=d.length;c<b;++c){var e=d[c];if(e&&!Ads.isHidden(e)){Ads.hide(e)}}}},isHidden:function(c){var b=$WH.gE(c,"iframe")[0];if(b){return b.style.display=="none"}return false},intersect:function(h,f){var c;for(var k in Ads.dimensions){var e=Ads.spots;for(var d=0,b=e.length;d<b;++d){var g=e[d];if(g){if(!Ads.isHidden(g)){coords=$WH.ac(g);c=$WH.g_createRect(coords.x,coords.y,g.offsetWidth,g.offsetHeight);if($WH.g_intersectRect(h,c)){if(f){Ads.hide(g)}return g}}}}}return false},restoreHidden:function(){Ads.hiding=false;if(Ads.hidden.length){for(var d=0,b=Ads.hidden.length;d<b;++d){var e=Ads.hidden[d],c=$WH.gE(e,"iframe")[0];if(c){c.style.display=""}}Ads.hidden=[]}}};$(document).ready(Ads.init);function Ajax(c,d){if(!c){return}var b;try{b=new XMLHttpRequest()}catch(f){try{b=new ActiveXObject("Msxml2.XMLHTTP")}catch(f){try{b=new ActiveXObject("Microsoft.XMLHTTP")}catch(f){if(window.createRequest){b=window.createRequest()}else{alert(LANG.message_ajaxnotsupported);return}}}}this.request=b;$WH.cO(this,d);this.method=this.method||(this.params&&"POST")||"GET";b.open(this.method,c,this.async==null?true:this.async);b.onreadystatechange=Ajax.onReadyStateChange.bind(this);if(this.method.toUpperCase()=="POST"){b.setRequestHeader("Content-Type",(this.contentType||"application/x-www-form-urlencoded")+"; charset="+(this.encoding||"UTF-8"))}b.send(this.params)}Ajax.onReadyStateChange=function(){if(this.request.readyState==4){if(this.request.status==0||(this.request.status>=200&&this.request.status<300)){this.onSuccess!=null&&this.onSuccess(this.request,this)}else{this.onFailure!=null&&this.onFailure(this.request,this)}if(this.onComplete!=null){this.onComplete(this.request,this)}}};var Announcement=function(b){if(!b){b={}}$WH.cO(this,b);if(this.parent){this.parentDiv=$WH.ge(this.parent)}else{return}if(g_user.id==0&&(!g_cookiesEnabled()||g_getWowheadCookie("announcement-"+this.id)=="closed")){return}this.initialize()};Announcement.prototype={initialize:function(){this.parentDiv.style.display="none";if(this.mode===undefined||this.mode==1){this.parentDiv.className="announcement announcement-contenttop"}else{this.parentDiv.className="announcement announcement-pagetop"}var f=this.innerDiv=$WH.ce("div");f.className="announcement-inner text";this.style=this.style.replace("%tb%",(($WH.isset("g_thottbot")&&g_thottbot)?"tb-":""));this.setStyle(this.style);var b=null;var e=parseInt(this.id);if(g_user&&(g_user.roles&(U_GROUP_ADMIN|U_GROUP_BUREAU))>0&&Math.abs(e)>0){if(e<0){b=$WH.ce("a");b.style.cssFloat=b.style.styleFloat="right";b.href="/admin=announcements&id="+Math.abs(e)+"&status=2";b.onclick=function(){return confirm("Are you sure you want to delete "+this.name+"?")};$WH.ae(b,$WH.ct("Delete"));var d=$WH.ce("small");$WH.ae(d,b);$WH.ae(f,d);b=$WH.ce("a");b.style.cssFloat=b.style.styleFloat="right";b.style.marginRight="10px";b.href="/admin=announcements&id="+Math.abs(e)+"&status="+(this.status==1?0:1);b.onclick=function(){return confirm("Are you sure you want to delete "+this.name+"?")};$WH.ae(b,$WH.ct((this.status==1?"Disable":"Enable")));var d=$WH.ce("small");$WH.ae(d,b);$WH.ae(f,d)}b=$WH.ce("a");b.style.cssFloat=b.style.styleFloat="right";b.style.marginRight="10px";b.href="/admin=announcements&id="+Math.abs(e)+"&edit";$WH.ae(b,$WH.ct("Edit announcement"));var d=$WH.ce("small");$WH.ae(d,b);$WH.ae(f,d)}var c=$WH.ce("div");c.id=this.parent+"-markup";$WH.ae(f,c);if(e>=0){b=$WH.ce("a");if($WH.isset("g_thottbot")&&g_thottbot){$WH.ae(b,$WH.ct("[X]"))}b.id="closeannouncement";b.href="javascript:;";b.className="announcement-close";if(this.nocookie){b.onclick=this.hide.bind(this)}else{b.onclick=this.markRead.bind(this)}$WH.ae(f,b);g_addTooltip(b,LANG.close)}$WH.ae(f,$WH.ce("div",{style:{clear:"both"}}));$WH.ae(this.parentDiv,f);this.setText(this.text);setTimeout(this.show.bind(this),500)},show:function(){$(this.parentDiv).animate({opacity:"show",height:"show"},{duration:333});g_trackEvent("Announcements","Show",""+this.name)},hide:function(){$(this.parentDiv).animate({opacity:"hide",height:"hide"},{duration:200})},markRead:function(){g_trackEvent("Announcements","Close",""+this.name);g_setWowheadCookie("announcement-"+this.id,"closed");this.hide()},setStyle:function(b){this.style=b;this.innerDiv.setAttribute("style",b)},setText:function(b){this.text=b;Markup.printHtml(this.text,this.parent+"-markup");g_addAnalyticsToNode($WH.ge(this.parent+"-markup"),{category:"Announcements",actions:{"Follow link":function(c){return true}}},this.id)}};(function(e){e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(g,f){e.fx.step[f]=function(h){if(h.state==0){h.start=d(h.elem,f);h.end=b(h.end)}h.elem.style[f]="rgb("+[Math.max(Math.min(parseInt((h.pos*(h.end[0]-h.start[0]))+h.start[0]),255),0),Math.max(Math.min(parseInt((h.pos*(h.end[1]-h.start[1]))+h.start[1]),255),0),Math.max(Math.min(parseInt((h.pos*(h.end[2]-h.start[2]))+h.start[2]),255),0)].join(",")+")"}});function b(f){var g;if(f&&f.constructor==Array&&f.length==3){return f}if(g=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(f)){return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])]}if(g=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(f)){return[parseFloat(g[1])*2.55,parseFloat(g[2])*2.55,parseFloat(g[3])*2.55]}if(g=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(f)){return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]}if(g=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(f)){return[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]}return c[e.trim(f).toLowerCase()]}function d(h,f){var g;do{g=e.curCSS(h,f);if(g!=""&&g!="transparent"||e.nodeName(h,"body")){break}f="backgroundColor"}while(h=h.parentNode);return b(g)}var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);function SetupReplies(b,c){SetupAddEditComment(b,c,false);SetupShowMoreComments(b,c);b.find(".comment-reply-row").each(function(){SetupRepliesControls($(this),c)});b.find(".comment-reply-row").hover(function(){$(this).find("span").attr("data-hover","true")},function(){$(this).find("span").attr("data-hover","false")})}function SetupAddEditComment(z,c,n){var k=null;var q=null;var u=null;var B=null;var m=null;var G=null;var l=null;var D=15;var t=600;var p=false;var w=false;var f=false;var C=false;var o=z.find(".comment-replies > table");var r=z.find(".add-reply");var h=c.replies.length;if(n){v()}else{r.click(function(){v()})}function d(){if(p){return}p=true;var H=$("<tr/>");if(n){H.addClass("comment-reply-row").addClass("reply-edit-row")}H.html('<td style="width: 0"></td><td class="comment-form"><form><table><form><table><tr><td style="width: 600px"><textarea required="required" name="body" cols="68" rows="3"></textarea></td><td><input type="submit" value="'+(n?LANG.save:LANG.addreply)+'" /><img src="http://koper.wowhead.com/images/icons/ajax.gif" class="ajax-loader" /></td></tr><tr><td colspan="2"><span class="text-counter">Text counter placeholder</span></td></tr></table></form></td>');q=H.find(".comment-form textarea");u=H.find(".comment-form input[type=submit]");B=H.find(".comment-form span.text-counter");k=H.find(".comment-form form");m=H.find(".comment-form .ajax-loader");G=H.find(".comment-form");k.submit(function(){g();return false});i();q.keyup(function(I){i()});q.keydown(function(I){if(I.keyCode==27){A();return false}});q.keypress(function(I){if(I.keyCode==13){g();return false}});if(n){z.after(H);z.hide();k.find("textarea").text(c.replies[z.attr("data-idx")].body)}else{o.append(H)}l=H;k.find("textarea").focus()}function v(){if(!p){d()}w=true;if(!n){r.hide();z.find(".comment-replies").show();G.show()}}function A(){w=false;if(n){if(l){l.remove()}z.show();return}r.show();G.hide();if(h==0){z.find(".comment-replies").hide()}}function g(){if(!w||C){return}if(q.val().length<D||q.val().length>t){if(!f){f=true;B.animate({opacity:"0.0"},150);B.animate({opacity:"1.0"},150,null,function(){f=false})}return false}b();$.ajax({type:"POST",url:n?"/comment=edit-reply":"/comment=add-reply",data:{commentId:c.id,replyId:(n?z.attr("data-replyid"):0),body:q.val()},success:function(H){F(H)},dataType:"json",error:function(H){E(H.responseText)}});return true}function b(){C=true;m.show();u.attr("disabled","disabled");G.find(".message-box").remove()}function e(){C=false;m.hide();u.removeAttr("disabled")}function F(H){c.replies=H;Listview.templates.comment.updateReplies(c)}function E(H){e();MessageBox(G,H)}function i(){var K="(error)";var J="q0";var I=q.val().replace(/(\s+)/g," ").replace(/^\s*/,"").replace(/\s*$/,"").length;var H=t-I;if(I==0){K=$WH.sprintf(LANG.replylength1_format,D)}else{if(I<D){K=$WH.sprintf(LANG.replylength2_format,D-I)}else{K=$WH.sprintf(H==1?LANG.replylength4_format:LANG.replylength3_format,H);if(H<120){J="q10"}else{if(H<240){J="q5"}else{if(H<360){J="q11"}}}}}B.html(K).attr("class",J)}}function SetupShowMoreComments(c,g){var e=c.find(".show-more-replies");var d=c.find(".comment-replies");e.click(function(){b()});function b(){e.hide();d.append(CreateAjaxLoader());$.ajax({type:"GET",url:"/comment=show-replies",data:{id:g.id},success:function(h){g.replies=h;Listview.templates.comment.updateReplies(g)},dataType:"json",error:function(){f()}})}function f(){e.show();d.find(".ajax-loader").remove();MessageBox(d,"There was an error fetching the comments. Try refreshing the page.")}}function SetupRepliesControls(r,l){var o=r.attr("data-replyid");var i=r.find(".reply-upvote");var p=r.find(".reply-downvote");var k=r.find(".reply-report");var b=r.find(".reply-rating");var m=r.find(".reply-controls");var f=r.find(".reply-delete");var h=r.find(".reply-edit");var c=false;var q=false;h.click(function(){SetupAddEditComment(r,l,true)});k.click(function(){if(c||!confirm(LANG.replyreportwarning_tip)){return}c=true;$.ajax({type:"POST",url:"/comment=flag-reply",data:{id:o},success:function(){g()},error:function(t){d(t.responseText)}})});i.click(function(){if(i.attr("data-hasvoted")=="true"||i.attr("data-canvote")!="true"||c){return}c=true;$.ajax({type:"POST",url:"/comment=upvote-reply",data:{id:o},success:function(){n(1)},error:function(t){d(t.responseText)}})});p.click(function(){if(p.attr("data-hasvoted")=="true"||p.attr("data-canvote")!="true"||c){return}c=true;$.ajax({type:"POST",url:"/comment=downvote-reply",data:{id:o},success:function(){n(-1)},error:function(t){d(t.responseText)}})});f.click(function(){if(q){return}if(!confirm(LANG.deletereplyconfirmation_tip)){return}q=true;$.ajax({type:"POST",url:"/comment=delete-reply",data:{id:o},success:function(){e()},error:function(t){d(t.responseText)}})});function n(t){var u=parseInt(b.text());u+=t;b.text(u);if(t>0){i.attr("data-hasvoted","true")}else{p.attr("data-hasvoted","true")}i.attr("data-canvote","false");p.attr("data-canvote","false");if(ratingChance>0){k.remove()}c=false}function g(){c=false;k.remove()}function e(){r.remove();q=false}function d(t){c=false;q=false;if(!t){t="An error has occurred. Try refreshing the page."}MessageBox(m,t)}}function co_addYourComment(){tabsContribute.focus(0);var b=$WH.gE(document.forms.addcomment,"textarea")[0];b.focus()}function co_validateForm(d){var b=$WH.gE(d,"textarea")[0];var c=Locale.getId();if(c!=LOCALE_ENUS&&$(d).attr("action")&&($(d).attr("action").replace(/^.*type=([0-9]*).*$/i,"$1"))==100){alert(LANG.message_cantpostlcomment_tip);return false}if(Listview.funcBox.coValidate(b)){if(!g_requireCaptcha()){return true}if(d.elements.recaptcha_response_field.value.length){return true}else{alert(LANG.message_codenotentered);d.elements.recaptcha_response_field.focus()}}return false}$(document).ready(function(){g_setupChangeWarning($("form[name=addcomment]"),[$("textarea[name=commentbody]")],LANG.message_startedpost)});var ContactTool=new function(){this.general=0;this.comment=1;this.post=2;this.screenshot=3;this.character=4;this.video=5;this.guide=6;var e;var d={0:[[1,true],[2,true],[8,true],[3,true],[4,true],[5,true],[6,true],[7,true]],1:[[15,function(g){return((g.roles&U_GROUP_MODERATOR)==0)}],[16,true],[18,function(g){return((g.roles&U_GROUP_MODERATOR)==0)}],[19,function(g){return((g.roles&U_GROUP_MODERATOR)==0)}],[20,function(g){return((g.roles&U_GROUP_MODERATOR)==0)}]],2:[[30,function(g){return(g_users&&g_users[g.user]&&(g_users[g.user].roles&U_GROUP_MODERATOR)==0)}],[37,function(g){return((g.roles&U_GROUP_MODERATOR)==0&&g_users&&g_users[g.user]&&(g_users[g.user].roles&U_GROUP_MODERATOR)==0&&g_users[g.user].avatar==2)}],[31,true],[32,true],[33,function(g){return(g_users&&g_users[g.user]&&(g_users[g.user].roles&U_GROUP_MODERATOR)==0)}],[34,function(g){return(g_users&&g_users[g.user]&&(g_users[g.user].roles&U_GROUP_MODERATOR)==0&&g.op&&!g.sticky)}],[35,function(g){return(g_users&&g_users[g.user]&&(g_users[g.user].roles&U_GROUP_MODERATOR)==0)}],[36,function(g){return(g_users&&g_users[g.user]&&(g_users[g.user].roles&U_GROUP_MODERATOR)==0)}]],3:[[45,true],[46,true],[47,function(g){return(g_users&&g_users[g.user]&&(g_users[g.user].roles&U_GROUP_MODERATOR)==0)}],[48,function(g){return(g_users&&g_users[g.user]&&(g_users[g.user].roles&U_GROUP_MODERATOR)==0)}]],4:[[60,true],[61,true]],5:[[45,true],[46,true],[47,function(g){return(g_users&&g_users[g.user]&&(g_users[g.user].roles&U_GROUP_MODERATOR)==0)}],[48,function(g){return(g_users&&g_users[g.user]&&(g_users[g.user].roles&U_GROUP_MODERATOR)==0)}]],6:[[45,true],[46,true],[48,true]]};var c={1:LANG.ct_resp_error1,2:LANG.ct_resp_error2,3:LANG.ct_resp_error3,7:LANG.ct_resp_error7};var b=null;this.displayError=function(h,g){alert(g)};this.onShow=function(){if(location.hash&&location.hash!="#contact"){b=location.hash}if(this.data.mode==0){location.replace("#contact")}};this.onHide=function(){if(b&&(b.indexOf("screenshots:")==-1||b.indexOf("videos:")==-1)){location.replace(b)}else{location.replace("#.")}};this.onSubmit=function(m,h,l){if(m.submitting){return false}for(var k=0;k<l.elements.length;++k){l.elements[k].disabled=true}var n=["contact=1","mode="+$WH.urlencode(m.mode),"reason="+$WH.urlencode(m.reason),"desc="+$WH.urlencode(m.description),"ua="+$WH.urlencode(navigator.userAgent),"appname="+$WH.urlencode(navigator.appName),"page="+$WH.urlencode(m.currenturl)];if(m.mode==0){if(m.relatedurl){n.push("relatedurl="+$WH.urlencode(m.relatedurl))}if(m.email){n.push("email="+$WH.urlencode(m.email))}}else{if(m.mode==1){n.push("id="+$WH.urlencode(m.comment.id))}else{if(m.mode==2){n.push("id="+$WH.urlencode(m.post.id))}else{if(m.mode==3){n.push("id="+$WH.urlencode(m.screenshot.id))}else{if(m.mode==4){n.push("id="+$WH.urlencode(m.profile.source))}else{if(m.mode==5){n.push("id="+$WH.urlencode(m.video.id))}else{if(m.mode==6){n.push("id="+$WH.urlencode(m.guide.id))}}}}}}}m.submitting=true;var g="/contactus";new Ajax(g,{method:"POST",params:n.join("&"),onSuccess:function(p,i){var o=p.responseText;if(o==0){if(g_user.name){alert($WH.sprintf(LANG.ct_dialog_thanks_user,g_user.name))}else{alert(LANG.ct_dialog_thanks)}Lightbox.hide()}else{if(c[o]){alert(c[o])}else{alert("Error: "+o)}}},onFailure:function(o,i){alert("Failure submitting contact request: "+o.statusText)},onComplete:function(q,p){for(var o=0;o<l.elements.length;++o){l.elements[o].disabled=false}m.submitting=false}});return false};this.show=function(g){if(!g){g={}}var i={mode:0};$WH.cO(i,g);i.reasons=d[i.mode];if(location.href.indexOf("#contact")!=-1){i.currenturl=location.href.substr(0,location.href.indexOf("#contact"))}else{i.currenturl=location.href}var h="contactus";if(i.mode!=0){h="reportform"}if(!e){this.init()}e.show(h,{data:i,onShow:this.onShow,onHide:this.onHide,onSubmit:this.onSubmit})};this.checkPound=function(){if(location.hash&&location.hash=="#contact"){ContactTool.show()}};var f;if($WH.isset("g_thottbot")&&g_thottbot){f="Contact Thottbot"}else{f=LANG.ct_dialog_contactwowhead}this.init=function(){e=new Dialog();Dialog.templates.contactus={title:f,width:550,buttons:[["check",LANG.ok],["x",LANG.cancel]],fields:[{id:"reason",type:"select",label:LANG.ct_dialog_reason,required:1,options:[],compute:function(q,r,k,n){$WH.ee(q);for(var p=0;p<this.data.reasons.length;++p){var l=this.data.reasons[p][0];var h=this.data.reasons[p][1];var g=false;if(typeof h=="function"){g=h(this.extra)}else{g=h}if(!g){continue}var m=$WH.ce("option");m.value=l;if(r&&r==l){m.selected=true}$WH.ae(m,$WH.ct(g_contact_reasons[l]));$WH.ae(q,m)}q.onchange=function(){if(this.value==1||this.value==2||this.value==3){k.currenturl.parentNode.parentNode.style.display="";k.relatedurl.parentNode.parentNode.style.display=""}else{k.currenturl.parentNode.parentNode.style.display="none";k.relatedurl.parentNode.parentNode.style.display="none"}}.bind(q);n.style.width="98%"},validate:function(k,i,h){var g="";if(!k||k.length==0){g=LANG.ct_dialog_error_reason}if(g==""){return true}ContactTool.displayError(h.reason,g);h.reason.focus();return false}},{id:"currenturl",type:"text",disabled:true,label:LANG.ct_dialog_currenturl,size:40},{id:"relatedurl",type:"text",label:LANG.ct_dialog_relatedurl,caption:LANG.ct_dialog_optional,size:40,validate:function(l,k,i){var h="";var g=/^(http(s?)\:\/\/|\/)?([\w]+:\w+@)?([a-zA-Z]{1}([\w\-]+\.)+([\w]{2,5}))(:[\d]{1,5})?((\/?\w+\/)+|\/?)(\w+\.[\w]{3,4})?((\?\w+=\w+)?(&\w+=\w+)*)?/;l=l.trim();if(l.length>=250){h=LANG.ct_dialog_error_relatedurl}else{if(l.length>0&&!g.test(l)){h=LANG.ct_dialog_error_invalidurl}}if(h==""){return true}ContactTool.displayError(i.relatedurl,h);i.relatedurl.focus();return false}},{id:"email",type:"text",label:LANG.ct_dialog_email,caption:LANG.ct_dialog_email_caption,compute:function(l,k,h,m,i){if(g_user.email){this.data.email=g_user.email;i.style.display="none"}else{var g=function(){$("#contact-emailwarn").css("display",g_isEmailValid($(h.email).val())?"none":"");Lightbox.reveal()};$(l).keyup(g).blur(g)}},validate:function(k,i,h){var g="";k=k.trim();if(k.length>=100){g=LANG.ct_dialog_error_emaillen}else{if(k.length>0&&!g_isEmailValid(k)){g=LANG.ct_dialog_error_email}}if(g==""){return true}ContactTool.displayError(h.email,g);h.email.focus();return false}},{id:"description",type:"textarea",caption:LANG.ct_dialog_desc_caption,width:"98%",required:1,size:[10,30],validate:function(k,i,h){var g="";k=k.trim();if(k.length==0||k.length>10000){g=LANG.ct_dialog_error_desc}if(g==""){return true}ContactTool.displayError(h.description,g);h.description.focus();return false}},{id:"noemailwarning",type:"caption",compute:function(i,h,g,k){$(k).html('<span id="contact-emailwarn" class="q10"'+(g_user.email?' style="display: none"':"")+">"+LANG.ct_dialog_noemailwarning+"</span>").css("white-space","normal").css("padding","0 4px")}}],onInit:function(g){},onShow:function(g){if(this.data.focus&&g[this.data.focus]){setTimeout(g_setCaretPosition.bind(null,g[this.data.focus],g[this.data.focus].value.length),100)}else{if(g.reason&&!g.reason.value){setTimeout($WH.bindfunc(g.reason.focus,g.reason),10)}else{if(g.relatedurl&&!g.relatedurl.value){setTimeout($WH.bindfunc(g.relatedurl.focus,g.relatedurl),10)}else{if(g.email&&!g.email.value){setTimeout($WH.bindfunc(g.email.focus,g.email),10)}else{if(g.description&&!g.description.value){setTimeout($WH.bindfunc(g.description.focus,g.description),10)}}}}}setTimeout(Lightbox.reveal,250)}};Dialog.templates.reportform={title:LANG.ct_dialog_report,width:550,buttons:[["check",LANG.ok],["x",LANG.cancel]],fields:[{id:"reason",type:"select",label:LANG.ct_dialog_reason,options:[],compute:function(t,u,k,p){switch(this.data.mode){case 1:k.firstChild.innerHTML=$WH.sprintf(LANG.ct_dialog_reportcomment,'<a href="/user='+this.data.comment.user+'">'+this.data.comment.user+"</a>");break;case 2:var r='<a href="/user='+this.data.post.user+'">'+this.data.post.user+"</a>";if(this.data.post.op){k.firstChild.innerHTML=$WH.sprintf(LANG.ct_dialog_reporttopic,r)}else{k.firstChild.innerHTML=$WH.sprintf(LANG.ct_dialog_reportpost,r)}break;case 3:k.firstChild.innerHTML=$WH.sprintf(LANG.ct_dialog_reportscreen,'<a href="/user='+this.data.screenshot.user+'">'+this.data.screenshot.user+"</a>");break;case 4:$WH.ee(k.firstChild);$WH.ae(k.firstChild,$WH.ct(LANG.ct_dialog_reportchar));break;case 5:k.firstChild.innerHTML=$WH.sprintf(LANG.ct_dialog_reportvideo,'<a href="/user='+this.data.video.user+'">'+this.data.video.user+"</a>");break;case 6:k.firstChild.innerHTML="Report guide";break}k.firstChild.setAttribute("style","");$WH.ee(t);var n;if(this.data.mode==1){n=this.data.comment}else{if(this.data.mode==2){n=this.data.post}else{if(this.data.mode==3){n=this.data.screenshot}else{if(this.data.mode==4){n=this.data.profile}else{if(this.data.mode==5){n=this.data.video}else{if(this.data.mode==6){n=this.data.guide}}}}}}$WH.ae(t,$WH.ce("option",{selected:(!u),value:-1}));for(var q=0;q<this.data.reasons.length;++q){var l=this.data.reasons[q][0];var h=this.data.reasons[q][1];var g=false;if(typeof h=="function"){g=h(n)}else{g=h}if(!g){continue}var m=$WH.ce("option");m.value=l;if(u&&u==l){m.selected=true}$WH.ae(m,$WH.ct(g_contact_reasons[l]));$WH.ae(t,m)}p.style.width="98%"},validate:function(k,i,h){var g="";if(!k||k==-1||k.length==0){g=LANG.ct_dialog_error_reason}if(g==""){return true}ContactTool.displayError(h.reason,g);h.reason.focus();return false}},{id:"description",type:"textarea",caption:LANG.ct_dialog_desc_caption,width:"98%",required:1,size:[10,30],validate:function(k,i,h){var g="";k=k.trim();if(k.length==0||k.length>10000){g=LANG.ct_dialog_error_desc}if(g==""){return true}ContactTool.displayError(h.description,g);h.description.focus();return false}}],onInit:function(g){},onShow:function(h){var i=$(h).find("*[name=reason]")[0];var g=$(h).find("*[name=description]")[0];if(this.data.focus&&h[this.data.focus]){setTimeout(g_setCaretPosition.bind(null,h[this.data.focus],h[this.data.focus].value.length),100)}else{if(!i.value){setTimeout($WH.bindfunc(i.focus,i),10)}else{if(!g.value){setTimeout($WH.bindfunc(g.focus,g),10)}}}}}};$(document).ready(this.checkPound)};function g_cookiesEnabled(){document.cookie="enabledTest";return(document.cookie.indexOf("enabledTest")!=-1)?true:false}function g_getWowheadCookie(b){if(g_user.id>0){return g_user.cookies[b]}else{return $WH.gc(b)}}function g_setWowheadCookie(d,e,c){var b=d.substr(0,5)=="temp_";if(!c&&g_user.id>0&&!b){new Ajax("/cookie="+d+"&"+d+"="+$WH.urlencode(e),{method:"get",onSuccess:function(f){if(f.responseText==0){g_user.cookies[d]=e}}})}else{if(c||g_user.id==0){$WH.sc(d,14,e,null,".wowhead.com")}}}var Dialog=function(){var e=this,k,u=null,o,l={},n,d=false,q=$WH.ce("form"),c={};q.onsubmit=function(){r();return false};this.show=function(w,z){if(w){o=w;k=Dialog.templates[o];e.template=k}else{return}if(k.onInit&&!d){(k.onInit.bind(e,q,z))()}if(z.onBeforeShow){l.onBeforeShow=z.onBeforeShow.bind(e,q)}if(k.onBeforeShow){k.onBeforeShow=k.onBeforeShow.bind(e,q)}if(z.onShow){l.onShow=z.onShow.bind(e,q)}if(k.onShow){k.onShow=k.onShow.bind(e,q)}if(z.onHide){l.onHide=z.onHide.bind(e,q)}if(k.onHide){k.onHide=k.onHide.bind(e,q)}if(z.onSubmit){l.onSubmit=z.onSubmit}if(k.onSubmit){u=k.onSubmit.bind(e,q)}if(z.data){d=false;n={};$WH.cO(n,z.data)}e.data=n;Lightbox.show("dialog-"+o,{onShow:b,onHide:m})};this.getValue=function(w){return i(w)};this.setValue=function(z,w){g(z,w)};this.getSelectedValue=function(w){return t(w)};this.getCheckedValue=function(w){return v(w)};function b(w,z){if(z||!d){f(w)}if(k.onBeforeShow){k.onBeforeShow()}if(l.onBeforeShow){l.onBeforeShow()}Lightbox.setSize(k.width,k.height);w.className="dialog";p();if(k.onShow){k.onShow()}if(l.onShow){l.onShow()}}function f(G){$WH.ee(G);$WH.ee(q);var w=$WH.ce("div");w.className="text";$WH.ae(G,w);$WH.ae(w,q);if(k.title){var P=$WH.ce("h1");$WH.ae(P,$WH.ct(k.title));$WH.ae(q,P)}var I=$WH.ce("table"),E=$WH.ce("tbody"),B=false;$WH.ae(I,E);$WH.ae(q,I);for(var O=0,Q=k.fields.length;O<Q;++O){var z=k.fields[O],F;if(!B){tr=$WH.ce("tr");th=$WH.ce("th");td=$WH.ce("td")}z.__tr=tr;if(n[z.id]==null){n[z.id]=(z.value?z.value:"")}var D;if(z.options){D=[];if(z.optorder){$WH.cO(D,z.optorder)}else{for(var N in z.options){D.push(N)}}if(z.sort){D.sort(function(V,U){return z.sort*$WH.strcmp(z.options[V],z.options[U])})}}switch(z.type){case"caption":th.colSpan=2;th.style.textAlign="left";th.style.padding=0;if(z.compute){(z.compute.bind(e,null,n[z.id],q,th,tr))()}else{if(z.label){$WH.ae(th,$WH.ct(z.label))}}$WH.ae(tr,th);$WH.ae(E,tr);continue;break;case"textarea":var R=F=$WH.ce("textarea");R.name=z.id;if(z.disabled){R.disabled=true}R.rows=z.size[0];R.cols=z.size[1];td.colSpan=2;if(z.label){th.colSpan=2;th.style.textAlign="left";th.style.padding=0;td.style.padding=0;$WH.ae(th,$WH.ct(z.label));$WH.ae(tr,th);$WH.ae(E,tr);tr=$WH.ce("tr")}$WH.ae(td,R);break;case"select":var R=F=$WH.ce("select");R.name=z.id;if(z.size){R.size=z.size}if(z.disabled){R.disabled=true}if(z.multiple){R.multiple=true}for(var N=0,C=D.length;N<C;++N){var K=$WH.ce("option");K.value=D[N];$WH.ae(K,$WH.ct(z.options[D[N]]));$WH.ae(R,K)}$WH.ae(td,R);break;case"dynamic":td.colSpan=2;td.style.textAlign="left";td.style.padding=0;if(z.compute){(z.compute.bind(e,null,n[z.id],q,td,tr))()}$WH.ae(tr,td);$WH.ae(E,tr);F=td;break;case"checkbox":case"radio":var M=0;F=[];for(var N=0,C=D.length;N<C;++N){var J=$WH.ce("span"),R,L,A="sdfler46"+z.id+"-"+D[N];if(N>0&&!z.noInputBr){$WH.ae(td,$WH.ce("br"))}L=$WH.ce("label");L.setAttribute("for",A);L.onmousedown=$WH.rf;R=$WH.ce("input");R.setAttribute("type",z.type);R.name=z.id;R.value=D[N];R.id=A;if(z.disabled){R.disabled=true}if(z.submitOnDblClick){L.ondblclick=R.ondblclick=function(U){r()}}if(z.compute){(z.compute.bind(e,R,n[z.id],q,td,tr))()}$WH.ae(L,R);$WH.ae(L,$WH.ct(z.options[D[N]]));$WH.ae(td,L);F.push(R)}break;default:var R=F=$WH.ce("input");R.name=z.id;if(z.size){R.size=z.size}if(z.disabled){R.disabled=true}if(z.submitOnEnter){R.onkeypress=function(U){U=$WH.$E(U);if(U.keyCode==13){r()}}}R.setAttribute("type",z.type);$WH.ae(td,R);break}if(z.label){if(z.type=="textarea"){if(z.labelAlign){td.style.textAlign=z.labelAlign}td.colSpan=2}else{if(z.labelAlign){th.style.textAlign=z.labelAlign}$WH.ae(th,$WH.ct(z.label));$WH.ae(tr,th)}}if(z.type!="checkbox"&&z.type!="radio"){if(z.width){R.style.width=z.width}if(z.compute&&z.type!="caption"&&z.type!="dynamic"){(z.compute.bind(e,R,n[z.id],q,td,tr))()}}if(z.caption){var J=$WH.ce("small");if(z.type!="textarea"){J.style.paddingLeft="2px"}$WH.ae(J,$WH.ct(z.caption));$WH.ae(td,J)}$WH.ae(tr,td);$WH.ae(E,tr);B=z.mergeCell;c[z.id]=F}for(var O=k.buttons.length;O>0;--O){var H=k.buttons[O-1],S=$WH.ce("a");S.onclick=r.bind(S,H[0]);S.className="dialog-"+H[0];S.href="javascript:;";$WH.ae(S,$WH.ct(H[1]));$WH.ae(G,S)}var T=$WH.ce("div");T.className="clear";$WH.ae(G,T);d=true}function p(){for(var B=0,w=k.fields.length;B<w;++B){var D=k.fields[B],C=c[D.id];switch(D.type){case"caption":break;case"select":for(var A=0,z=C.options.length;A<z;A++){C.options[A].selected=(C.options[A].value==n[D.id]||$WH.in_array(n[D.id],C.options[A].value)!=-1)}break;case"checkbox":case"radio":for(var A=0,z=C.length;A<z;A++){C[A].checked=(C[A].value==n[D.id]||$WH.in_array(n[D.id],C[A].value)!=-1)}break;default:C.value=n[D.id];break}if(D.update){(D.update.bind(e,null,n[D.id],q,C))()}}}function m(){if(k.onHide){k.onHide()}if(l.onHide){l.onHide()}}function r(z){if(z=="x"){return Lightbox.hide()}for(var A=0,w=k.fields.length;A<w;++A){var C=k.fields[A],B;switch(C.type){case"caption":continue;case"select":B=t(C.id);break;case"checkbox":case"radio":B=v(C.id);break;case"dynamic":if(C.getValue){B=C.getValue(C,n,q);break}default:B=i(C.id);break}if(C.validate){if(!C.validate(B,n,q)){return}}if(B&&typeof B=="string"){B=$WH.trim(B)}n[C.id]=B}h(z)}function h(z){var w;if(u){w=u(n,z,q)}if(l.onSubmit){w=l.onSubmit(n,z,q)}if(w===undefined||w){Lightbox.hide()}return false}function i(w){return c[w].value}function g(z,w){c[z].value=w}function t(C){var B=[],A=c[C];for(var z=0,w=A.options.length;z<w;z++){if(A.options[z].selected){B.push(parseInt(A.options[z].value)==A.options[z].value?parseInt(A.options[z].value):A.options[z].value)}}if(B.length==1){B=B[0]}return B}function v(C){var B=[],A=c[C];for(var z=0,w=A.length;z<w;z++){if(A[z].checked){B.push(parseInt(A[z].value)==A[z].value?parseInt(A[z].value):A[z].value)}}return B}};Dialog.templates={};Dialog.extraFields={};function g_addCss(c){var d=$WH.ce("style");d.type="text/css";if(d.styleSheet){d.styleSheet.cssText=c}else{$WH.ae(d,$WH.ct(c))}var b=document.getElementsByTagName("head")[0];$WH.ae(b,d)}function g_setTextNodes(d,c){if(d.nodeType==3){d.nodeValue=c}else{for(var b=0;b<d.childNodes.length;++b){g_setTextNodes(d.childNodes[b],c)}}}function g_setInnerHtml(e,d,b){if(e.nodeName.toLowerCase()==b){e.innerHTML=d}else{for(var c=0;c<e.childNodes.length;++c){g_setInnerHtml(e.childNodes[c],d,b)}}}function g_getFirstTextContent(d){for(var c=0;c<d.childNodes.length;++c){if(d.childNodes[c].nodeName=="#text"){return d.childNodes[c].nodeValue}var b=g_getFirstTextContent(d.childNodes[c]);if(b){return b}}return false}function g_getTextContent(d){var b="";for(var c=0;c<d.childNodes.length;++c){if(d.childNodes[c].nodeValue){b+=d.childNodes[c].nodeValue}else{if(d.childNodes[c].nodeName=="BR"){if($WH.Browser.ie67){b+="\r"}else{b+="\n"}}}b+=g_getTextContent(d.childNodes[c])}return b}function g_toggleDisplay(b){b=$(b);b.toggle();if(b.is(":visible")){return true}return false}function g_enableScroll(b){if(!b){$WH.aE(document,"mousewheel",g_enableScroll.F);$WH.aE(window,"DOMMouseScroll",g_enableScroll.F)}else{$WH.dE(document,"mousewheel",g_enableScroll.F);$WH.dE(window,"DOMMouseScroll",g_enableScroll.F)}}g_enableScroll.F=function(b){if(b.stopPropagation){b.stopPropagation()}if(b.preventDefault){b.preventDefault()}b.returnValue=false;b.cancelBubble=true;return false};function g_setCaretPosition(d,c){if(!d){return}if(d.createTextRange){var b=d.createTextRange();b.move("character",c);b.select()}else{if(d.selectionStart!=undefined){d.focus();d.setSelectionRange(c,c)}else{d.focus()}}}function g_insertTag(f,b,k,l){var c=$WH.ge(f);c.focus();if(c.selectionStart!=null){var o=c.selectionStart,i=c.selectionEnd,m=c.scrollLeft,d=c.scrollTop;var h=c.value.substring(o,i);if(typeof l=="function"){h=l(h)}c.value=c.value.substr(0,o)+b+h+k+c.value.substr(i);c.selectionStart=c.selectionEnd=i+b.length;c.scrollLeft=m;c.scrollTop=d}else{if(document.selection&&document.selection.createRange){var g=document.selection.createRange();if(g.parentElement()!=c){return}var h=g.text;if(typeof l=="function"){h=l(h)}g.text=b+h+k}}if(c.onkeyup){c.onkeyup()}}function g_onAfterTyping(b,e,d){var f;var c=function(){if(f){clearTimeout(f);f=null}f=setTimeout(e,d)};b.onkeyup=c}function g_onClick(d,e){var c=0;function b(f){if(c){if(c!=f){return}}else{c=f}e(true)}d.onclick=function(f){f=$WH.$E(f);if(f._button==2){return true}return false};d.oncontextmenu=function(){b(1);return false};d.onmouseup=function(f){f=$WH.$E(f);if(f._button==3||f.shiftKey||f.ctrlKey){b(2)}else{if(f._button==1){e(false)}}return false}}function g_isLeftClick(b){b=$WH.$E(b);return(b&&b._button==1)}function g_preventEmptyFormSubmission(){if(!$.trim(this.elements[0].value)){return false}}var Draggable=new function(){var b={},i={},n,e;function l(r){r=$WH.$E(r);if(this._handle){var o=r._target,q=false,p=0;while(o&&p<=3){if(o==this._handle){q=true;break}o=o.parentNode;++p}if(!q){return false}}n=this;b=$WH.g_getCursorPos(r);$WH.aE(document,"mousemove",c);$WH.aE(document,"mouseup",d);if(n.onClick){n.onClick(r,n)}return false}function c(r){r=$WH.$E(r);var t=$WH.g_getCursorPos(r);if(n){if(Math.abs(t.x-b.x)>5||Math.abs(t.y-b.y)>5){k(r,n);n=null}}if(!e||!e._bounds){return false}var q=h(e),p=t.x-b.x,o=t.y-b.y;p=Math.max(e._bounds.x1-i.x,Math.min(e._bounds.x2-i.x-(q.x2-q.x1),p));o=Math.max(e._bounds.y1-i.y,Math.min(e._bounds.y2-i.y-(q.y2-q.y1),o));m(p,o);return false}function d(o){o=$WH.$E(o);n=null;if(e){g(o)}}function k(p,o){if(e){g(p)}var q=$WH.ac(o);i.x=q[0];i.y=q[1];if(o._targets.length){e=o.cloneNode(true);e._orig=o;$WH.ae(document.body,e);m(-2323,-2323)}else{e=o}$WH.Tooltip.disabled=true;$WH.Tooltip.hide();if(o.onDrag){o.onDrag(p,e,o)}e._bounds=h(o._container);e.className+=" dragged"}function g(u){var t=false,v=$WH.g_getCursorPos(u);if(e._orig&&e._orig._targets.length){f();var w={x1:e._x,x2:e._x+parseInt(e.offsetWidth),y1:e._y,y2:e._y+parseInt(e.offsetHeight)};$WH.de(e);e=e._orig;for(var r=0,p=e._targets.length;r<p;++r){var o=e._targets[r],q=h(o);if(w.x2>=q.x1&&w.x1<q.x2&&w.y2>=q.y1&&w.y1<q.y2){t=true;if(e.onDrop){e.onDrop(u,e,o,(v.x>=q.x1&&v.x<=q.x2&&v.y>=q.y1&&v.y<=q.y2))}else{$WH.ae(o,e)}}}}if(!t&&e.onDrop){e.onDrop(u,e,null)}$WH.dE(document,"mousemove",c);$WH.dE(document,"mouseup",d);$WH.Tooltip.disabled=false;e.className=e.className.replace(/dragged/,"");e=null}function m(p,o){e.style.position="absolute";e.style.left=i.x+p+"px";e.style.top=i.y+o+"px";e._x=i.x+p;e._y=i.y+o}function f(){e.style.left="-2323px";e.style.top="-2323px"}function h(o){var p=$WH.ac(o);return{x1:p[0],x2:p[0]+parseInt(o.offsetWidth),y1:p[1],y2:p[1]+parseInt(o.offsetHeight)}}this.init=function(t,r){t.onmousedown=l;var p=t.getElementsByTagName("a");for(var q=0,o=p.length;q<o;++q){$WH.ns(p[q])}if(!t._targets){t._targets=[]}if(!t._container){t._container=document.body}if(r!=null){if(r.targets){for(var q=0,o=r.targets.length;q<o;++q){t._targets.push($WH.ge(r.targets[q]))}}if(r.container){t._container=$WH.ge(r.container)}if(r.onClick){t.onClick=r.onClick}if(r.onDrop){t.onDrop=r.onDrop}if(r.onDrag){t.onDrag=r.onDrag}}}};var Facebook={getCurrentOpenGraphUrl:function(){return $("head meta[property='og:url']").attr("content")},createLikeButton:function(c,d){if(!d){d={}}var b,e,f;if(d.simple){e=90;f=21;b="button_count"}else{e=400;f=23;b="standard"}var g=$("<iframe></iframe>",{src:"http://www.facebook.com/plugins/like.php?href="+$WH.urlencode(c)+"&locale=en_US&layout="+b+"&show_faces=false&action=like&font=arial&colorscheme=dark&width="+e+"&height="+f,scrolling:"no",frameborder:"0",allowtransparency:"true",css:{border:"none",overflow:"hidden",width:e+"px",height:f+"px",display:"none"}}).load(function(){$(this).show()});return g}};var g_localTime=new Date();var g_blogimages={};function GetStars(b,k,q,o){var l=5;var c=b;if(q){b=q}b=Math.round(b*2)/2;var p=Math.round(b);var m=$("<span>").addClass("stars").addClass("max-"+l).addClass("stars-"+p);if(!g_user.id){k=false}if(k){m.addClass("ratable")}if(q){m.addClass("rated")}var h="<span>";var n=$.browser.msie?"":"&#8203;";var f=b;for(var e=1;e<=l;++e){if(f<1&&f>0){h+='<b class="half">'}else{h+="<b>"}--f;h+='<i class="clickable">'+n+"<i></i></i>"}for(var e=1;e<=l;++e){h+="</b>"}h+="</span>";m.append(h);if(k){var d=0;m.find("i.clickable").each(function(){var i=++d;$(this).click(function(){VoteGuide(o,c,i)})})}if(q){var g=$("<span>").addClass("clear").click(function(){VoteGuide(o,c,0)});m.append(g)}if(b>=0){m.mouseover(function(i){$WH.Tooltip.showAtCursor(i,"Rating:&nbsp;"+b+"&nbsp;/&nbsp;"+l,0,0,"q")}).mousemove(function(i){$WH.Tooltip.cursorUpdate(i)}).mouseout(function(){$WH.Tooltip.hide()})}return m}function VoteGuide(guideId,oldRating,newRating){$("#guiderating").html(GetStars(oldRating,true,newRating,guideId));$.ajax({cache:false,url:"/guide=vote",type:"POST",error:function(){$("#guiderating").html(GetStars(oldRating,true,0,guideId));alert("Voting failed. Try again later.")},success:function(json){var data=eval("("+json+")");$("#guiderating-value").text(data.rating);$("#guiderating-votes").text(GetN5(data.nvotes))},data:{id:guideId,rating:newRating}})}var Icon={sizes:["small","medium","large","blizzard"],sizes2:[18,36,56,64],premiumOffsets:[[-56,-36],[-56,0],[0,0],[0,0]],create:function(d,o,k,c,g,n,b){var i=$WH.ce("div"),e=$WH.ce("ins"),h=$WH.ce("del");if(o==null){o=1}i.className="icon"+Icon.sizes[o];$WH.ae(i,e);if(!b){$WH.ae(i,h)}Icon.setTexture(i,o,d);if(c){var l=$WH.ce("a");l.href=c;if(c.indexOf("wowhead.com")==-1&&c.substr(0,5)=="http:"){l.target="_blank"}$WH.ae(i,l)}else{if(d){var m=i.firstChild.style;var f=(m.backgroundImage.indexOf("/avatars/")!=-1);if(!f){i.onclick=Icon.onClick;var l=$WH.ce("a");l.href="javascript:;";$WH.ae(i,l)}}}Icon.setNumQty(i,g,n);return i},createUser:function(e,g,d,c,b,h){if(e==2){g=g_staticUrl+"/uploads/avatars/"+g+".jpg"}var f=Icon.create(g,d,null,c,null,null,h);if(b){f.className+=" "+f.className+(b==2?"-gold":"-premium")}if(e==2){Icon.moveTexture(f,d,Icon.premiumOffsets[d][0],Icon.premiumOffsets[d][1],true)}return f},setTexture:function(e,d,c){if(!c){return}var b=e.firstChild.style;if(c.indexOf("/")!=-1){b.backgroundImage="url("+c+")"}else{b.backgroundImage="url("+g_staticUrl+"/images/wow/icons/"+Icon.sizes[d]+"/"+c.toLowerCase()+".jpg)"}Icon.moveTexture(e,d,0,0)},moveTexture:function(f,d,b,g,e){var c=f.firstChild.style;if(b||g){if(e){c.backgroundPosition=b+"px "+g+"px"}else{c.backgroundPosition=(-b*Icon.sizes2[d])+"px "+(-g*Icon.sizes2[d])+"px"}}else{if(c.backgroundPosition){c.backgroundPosition=""}}},setNumQty:function(f,d,g){var c=$WH.gE(f,"span");for(var e=0,b=c.length;e<b;++e){if(c[e]){$WH.de(c[e])}}if(d!=null&&((d>1&&d<2147483647)||d.length)){c=g_createGlow(d,(($WH.isset("g_thottbot")&&g_thottbot)?"w":"q1"));c.style.right="0";c.style.bottom="0";c.style.position="absolute";$WH.ae(f,c)}if(g!=null&&g>0){c=g_createGlow("("+g+")",(($WH.isset("g_thottbot")&&g_thottbot)?"w":"q"));c.style.left="0";c.style.top="0";c.style.position="absolute";$WH.ae(f,c)}},getLink:function(b){return $WH.gE(b,"a")[0]},showIconName:function(b){if(b.firstChild){var d=b.firstChild.style;if(d.backgroundImage.length&&(d.backgroundImage.indexOf(g_staticUrl)>=4||g_staticUrl=="")){var e=d.backgroundImage.lastIndexOf("/"),c=d.backgroundImage.indexOf(".jpg");if(e!=-1&&c!=-1){Icon.displayIcon(d.backgroundImage.substring(e+1,c))}}}},onClick:function(){Icon.showIconName(this)},displayIcon:function(c){if(!Dialog.templates.icondisplay){var b=364;switch(Locale.getId()){case LOCALE_ESES:b=380;break;case LOCALE_RURU:b=384;break}Dialog.templates.icondisplay={title:LANG.icon,width:b,buttons:[["arrow",LANG.original],["x",LANG.close]],fields:[{id:"icon",label:LANG.dialog_imagename,required:1,type:"text",labelAlign:"left",compute:function(f,e,d,i){var h=$WH.ce("div");i.style.width="300px";h.style.position="relative";h.style.